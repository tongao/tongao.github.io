(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7503a5ea"],{"2fdb":function(t,e,a){"use strict";var i=a("5ca1"),l=a("d2c8"),r="includes";i(i.P+i.F*a("5147")(r),"String",{includes:function(t){return!!~l(this,t,r).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},4540:function(t,e,a){"use strict";var i=a("8957"),l=a.n(i);l.a},5147:function(t,e,a){var i=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[i]=!1,!"/./"[t](e)}catch(l){}}return!0}},6762:function(t,e,a){"use strict";var i=a("5ca1"),l=a("c366")(!0);i(i.P,"Array",{includes:function(t){return l(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},8957:function(t,e,a){},a843:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page",{staticClass:"list",attrs:{title:"出库管理"}},[a("div",{staticClass:"list-content",attrs:{slot:"content"},slot:"content"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"medium",data:t.list,border:""}},[a("el-table-column",{attrs:{width:"180",label:"供应商名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.name)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"品名","class-name":"list-item-title"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.brand)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"产地"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.origin)+"\n        ")]}}])}),a("el-table-column",{attrs:{width:"100",label:"牌号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.grade)+"\n        ")]}}])}),a("el-table-column",{attrs:{width:"165",label:"钢卷号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.steelNumber)+"\n        ")]}}])}),a("el-table-column",{attrs:{width:"110",label:"规格"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.formart)+"\n        ")]}}])}),a("el-table-column",{attrs:{width:"110",label:"重量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.weight)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"过磅价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"price"},[t._v(t._s(e.row.price))])]}}])}),a("el-table-column",{attrs:{width:"120",label:"入库时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.exportForMartData(e.row.time))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"当前状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("el-tag",{attrs:{type:"success",size:"mini",effect:"plain"}},[t._v("已配送")]):t._e(),1==e.row.status?a("el-tag",{attrs:{size:"mini",effect:"plain"}},[t._v("待配送")]):t._e(),2==e.row.status?a("el-tag",{attrs:{type:"info",size:"mini",effect:"plain"}},[t._v("待加工")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"备注"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.remark)+"\n        ")]}}])}),a("el-table-column",{attrs:{width:"150",label:"操作",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return t.handleEditorStatus(e.$index,e.row)}}},[t._v("状态\n          ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDeleteList(e.$index,e.row)}}},[t._v("删除\n          ")])]}}])})],1),t.total>10?a("div",{staticClass:"list-page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total",total:t.total},on:{"current-change":t.handlePageNext,"next-click":t.handlePageNext,"prev-click":t.handlePageNext}})],1):t._e(),a("el-dialog",{attrs:{title:t.editorTitle,visible:t.editorDialogFormVisible},on:{"update:visible":function(e){t.editorDialogFormVisible=e}}},[a("el-form",{attrs:{model:t.editorData,inline:!0}},[a("el-form-item",{attrs:{label:"供应商名称","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择供应商"},model:{value:t.editorData.name,callback:function(e){t.$set(t.editorData,"name",e)},expression:"editorData.name"}},t._l(t.firmData,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}),1)],1),a("el-form-item",{attrs:{label:"品名","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择品名"},model:{value:t.editorData.brand,callback:function(e){t.$set(t.editorData,"brand",e)},expression:"editorData.brand"}},t._l(t.brandData,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}),1)],1),a("el-form-item",{attrs:{label:"产地","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择产地"},model:{value:t.editorData.origin,callback:function(e){t.$set(t.editorData,"origin",e)},expression:"editorData.origin"}},t._l(t.originData,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}),1)],1),a("el-form-item",{attrs:{label:"牌号","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入牌号"},model:{value:t.editorData.grade,callback:function(e){t.$set(t.editorData,"grade",e)},expression:"editorData.grade"}})],1),a("el-form-item",{attrs:{label:"钢卷号","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入钢卷号"},model:{value:t.editorData.steelNumber,callback:function(e){t.$set(t.editorData,"steelNumber",e)},expression:"editorData.steelNumber"}})],1),a("el-form-item",{attrs:{label:"规格","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入规格"},model:{value:t.editorData.formart,callback:function(e){t.$set(t.editorData,"formart",e)},expression:"editorData.formart"}})],1),a("el-form-item",{attrs:{label:"重量","label-width":"100px"}},[a("el-input",{attrs:{type:"number",autocomplete:"off",placeholder:"请输入重量"},model:{value:t.editorData.weight,callback:function(e){t.$set(t.editorData,"weight",e)},expression:"editorData.weight"}})],1),a("el-form-item",{attrs:{label:"过磅价格","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.editorData.price,callback:function(e){t.$set(t.editorData,"price",e)},expression:"editorData.price"}})],1),a("el-form-item",{attrs:{label:"入库日期","label-width":"100px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.editorData.time,callback:function(e){t.$set(t.editorData,"time",e)},expression:"editorData.time"}})],1)],1),a("el-form",{attrs:{model:t.editorData}},[a("el-form-item",{attrs:{label:"备注","label-width":"100px"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off",autosize:{minRows:2,maxRows:4},placeholder:"请输入仓库备注"},model:{value:t.editorData.remark,callback:function(e){t.$set(t.editorData,"remark",e)},expression:"editorData.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editorDialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleEditorOk}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"状态管理",visible:t.statusDialogFormVisible},on:{"update:visible":function(e){t.statusDialogFormVisible=e}}},[a("el-radio",{attrs:{label:"0",border:"",size:"small"},model:{value:t.steelStatus,callback:function(e){t.steelStatus=e},expression:"steelStatus"}},[t._v("已配送")]),a("el-radio",{attrs:{label:"1",border:"",size:"small"},model:{value:t.steelStatus,callback:function(e){t.steelStatus=e},expression:"steelStatus"}},[t._v("待配送")]),a("el-radio",{attrs:{label:"2",border:"",size:"small"},model:{value:t.steelStatus,callback:function(e){t.steelStatus=e},expression:"steelStatus"}},[t._v("待加工")]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.statusDialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleEditorStatusOk}},[t._v("确 定")])],1)],1)],1)])},l=[],r=(a("6762"),a("2fdb"),a("cebc")),o=a("14eb"),s=a("1235"),n=a("a9f8"),d={name:"warehouse-list",data:function(){return{query:{approvalStatus:0,pageSize:n["a"],pageNo:1,applyTimes:null,applyName:null,certNo:null,certNoMatch:null},list:[],loading:!0,total:0,editorDialogFormVisible:!1,editorIndex:0,editorType:"",editorData:{},editorTitle:"",firmData:[],brandData:[],originData:[],statusDialogFormVisible:!1,statusData:{},statusIndex:"",steelStatus:""}},created:function(){this.getListData()},methods:{handleSearchCertList:function(){this.loading=!0,this.getListData()},gertFirmData:function(){var t=this;Object(s["c"])().then(function(e){var a=e.data;0===a.code&&(t.firmData=a.data.list)})},gertBrandData:function(){var t=this;Object(s["b"])().then(function(e){var a=e.data;0===a.code&&(t.brandData=a.data.list)})},gertOriginData:function(){var t=this;Object(s["f"])().then(function(e){var a=e.data;0===a.code&&(t.originData=a.data.list)})},getListOuterData:function(){this.gertBrandData(),this.gertFirmData(),this.gertOriginData()},getListData:function(){var t=this;Object(s["d"])(this.query).then(function(e){var a=e.data;0===a.code&&(t.loading=!1,t.list=a.data.list,t.total=a.data.total)})},handlePageNext:function(t){this.loading=!0,this.query.pageNo=t,this.getListData()},handleEditorList:function(t,e){this.getListOuterData(),this.editorDialogFormVisible=!0,this.editorTitle="修改",this.editorType="editor",this.editorData=Object(r["a"])({},e),this.editorIndex=t},handleAddListData:function(){this.editorData={},this.getListOuterData(),this.editorDialogFormVisible=!0,this.editorTitle="新增",this.editorType="add",this.editorData={createDate:"2020-01-05",time:"",createName:"admin",remark:this.editorData.remark,name:this.editorData.remark,brand:this.editorData.remark,origin:this.editorData.remark,grade:this.editorData.remark,steelNumber:this.editorData.steelNumber,formart:this.editorData.remark,weight:this.editorData.remark,price:this.editorData.remark,status:this.editorData.remark,id:"655445974935666688"}},handleEditorOk:function(){"editor"===this.editorType?(this.list.splice(this.editorIndex,1),this.list.splice(this.editorIndex,0,this.editorData)):"add"===this.editorType&&this.list.splice(this.editorIndex,0,this.editorData),this.editorDialogFormVisible=!1,this.editorData={}},handleDeleteList:function(t,e){var a=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.list.splice(t,1),console.log(e),a.$message({type:"success",message:"删除成功!"})})},handleEditorStatus:function(t,e){var a=this;this.$confirm("此操作将修改此批钢材在出库中的状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.statusDialogFormVisible=!0,a.statusData=e,a.statusIndex=t,a.steelStatus=e.status})},handleEditorStatusOk:function(){this.list.splice(this.statusIndex,1),this.statusData.status=this.steelStatus,this.list.splice(this.statusIndex,0,this.statusData),this.statusDialogFormVisible=!1},exportForMartData:function(t){return"string"===typeof t&&t.includes("/")?t:new Date(t).toLocaleDateString()}},components:{page:o["a"]}},c=d,u=(a("4540"),a("2877")),m=Object(u["a"])(c,i,l,!1,null,null,null);e["default"]=m.exports},d2c8:function(t,e,a){var i=a("aae3"),l=a("be13");t.exports=function(t,e,a){if(i(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(l(t))}}}]);